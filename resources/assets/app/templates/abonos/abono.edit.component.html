
<div bsModal #modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"  >
<div class="modal-dialog" style="width:85%; height:80%;" >
<div class="modal-content">
  <div class="modal-header">
    <button type="button" class="close" (click)="hideModal()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <h4 class="modal-title">Editar Abono</h4>
  </div>
  <div class="modal-body">
    <div class="panel-body" *ngIf="abono">
      <h4 class="page-header" *ngIf="abono.id"><strong> Editar Abono :</strong></h4>
      <h4 class="page-header" *ngIf="!abono.id"><strong> Agregar Nuevo Abono :</strong></h4>

      <form [formGroup]="abonoForm" (ngSubmit)="guardar()" class="form-horizontal">
        
      <div [ngClass]="{'form-group': true, 'col-md-6': true,'has-error': formErrors.negocio_id}">
        <label for="negocio_id" class="col-md-2 control-label" for="negocio_id">Negocio :</label>
        <div class="col-md-10">
          <select id="negocio_id" class="form-control"></select>
          <span  *ngIf="formErrors.negocio_id" class="help-block">{{ formErrors.negocio_id}}</span>
        </div> 
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.tipo_id}">
        <label for="tipo_id" class="col-md-2 control-label" for="tipo_id">Tipo :</label>
        <div class="col-md-10">
          <select id="tipo_id" class="form-control"></select>
          <span  *ngIf="formErrors.tipo_id" class="help-block">{{ formErrors.tipo_id}}</span>
        </div> 
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.fecha}">
        <label for="fecha" class="col-md-2 control-label" for="tipo">Fecha</label>
        <div class="col-md-10">
          <input id="fecha" type="text" data-provide="datepicker" class="form-control " >
          <span  *ngIf="formErrors.fecha" id="errornombre" class="help-block">{{ formErrors.fecha}}</span>
        </div>
      </div>


      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.tasa}">
        <label for="tasa" class="col-md-2 control-label" for="tasa"> Tasa </label>
        <div class="col-md-8">
          <input id="tasa" type="number" class="form-control" formControlName="tasa" placeholder="000.000,00" [(ngModel)]="tasa" (keyup)="calcularMonto()" >
          <span  *ngIf="formErrors.tasa" id="errornombre" class="help-block">{{ formErrors.tasa}}</span>
        </div>
        <label class="col-md-2" style="padding-left: 0px;padding-top: 10px;">Bs.</label>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.afecta_banco}" *ngIf="divisa">
        <label for="afecta_banco" class="col-md-2 control-label" for="tipo">Afecta Banco</label>
        <div class="col-md-10">
          <select id="afecta_banco" formControlName="afecta_banco" class="form-control" [(ngModel)]="afecta_banco" (click)="cambiarAfectaBanco()" > 
            <option value="false">Efectivo</option>
            <option value="true">Afecta Banco</option>
          </select>
          <span *ngIf="formErrors.tipo" id="errornombre" class="help-block">{{ formErrors.tipo}}</span>
        </div>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.cantidad}">
        <label for="cantidad" class="col-md-2 control-label" for="cantidad"> Cantidad </label>
        <div class="col-md-8">
          <input  id="cantidad" type="number" class="form-control" formControlName="cantidad" placeholder="000.000,00" [(ngModel)]="cantidad" (keyup)="calcularMonto()">
          <span  *ngIf="formErrors.cantidad" id="errornombre" class="help-block">{{ formErrors.cantidad}}</span>
        </div>
        <label class="col-md-2" style="padding-left: 0px;padding-top: 10px;">{{simbolo}}</label>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.cuenta_id}" *ngIf="afecta_banco == 'true'">
        <label for="cuenta_id" class="col-md-2 control-label" for="tipo">Cuenta</label>
        <div class="col-md-10">
          <select id="cuenta_id" class="form-control"></select>
          <span  *ngIf="formErrors.cuenta_id" id="errornombre" class="help-block">{{ formErrors.cuenta_id}}</span>
        </div>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.referencia}" *ngIf="afecta_banco  == 'true'" >
        <label for="referencia" class="col-md-2 control-label" for="referencia"> Referencia </label>
        <div class="col-md-10" align="right">
          <input  id="referencia" type="text" class="form-control" formControlName="referencia">
          <span  *ngIf="formErrors.referencia" id="errornombre" class="help-block">{{ formErrors.referencia}}</span>
        </div>
      </div>


      <div [ngClass]="{'form-group': true,'col-md-12': true,'has-error': formErrors.descripcion}" >
        <div class="col-md-5 pull-right" >
          <h4 class="page-header"><strong>Totales :</strong></h4>
          <table class="table table-hover">
            <tr>
              <td style="text-align: right;"><strong> Monto : </strong></td>
              <td style="text-align: left;"> <strong> {{monto|number:'1.2-2'}} Bs.</strong></td>
            </tr>
            <tr>
              <td style="text-align: right;"><strong> Saldo : </strong></td>
              <td style="text-align: left;"> <strong> {{saldo|number:'1.2-2'}} Bs.</strong></td>
            </tr>

          </table>
        </div>
        <div class="col-md-12"  >
          <input type="button" class="btn btn-primary pull-right" (click)="guardar()" value="Guardar">
        </div>
      </div>  

      </form>
    </div>
  </div>
</div>
</div>
</div>
 


