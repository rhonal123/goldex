<div bsModal #modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"  >
<div class="modal-dialog" style="width:90%; height:80%;" >
<div class="modal-content">
<div class="modal-header">
  <button type="button" class="close" (click)="hideModal()" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
  <h4 class="modal-title">Prestamo</h4>
</div>
<div class="modal-body" *ngIf="prestamo">
  <div class="panel-body" >
    <h4 class="page-header" *ngIf="prestamo.id"><strong> Editar Prestamo :</strong></h4>
    <h4 class="page-header" *ngIf="!prestamo.id"><strong> Agregar Nuevo Prestamo :</strong></h4>
    <form [formGroup]="prestamoForm" (ngSubmit)="guardar()" class="form-horizontal">

      <div [ngClass]="{'form-group': true, 'col-md-6': true,'has-error': formErrors.negocio_id}">
        <label for="negocio_id" class="col-md-2 control-label" for="negocio_id">Negocio</label>
        <div class="col-md-10">
          <select id="negocio_id" class="form-control"></select>
          <span  *ngIf="formErrors.negocio_id" class="help-block">{{ formErrors.negocio_id}}</span>
        </div> 
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.tipo}">
        <label for="tipo" class="col-md-2 control-label" for="tipo">Tipo</label>
        <div class="col-md-10">
          <select id="tipo"  [(ngModel)]="tipo" formControlName="tipo" class="form-control" (click)="cambiarTipo()"> 
            <option value="transferencia">Transferencia</option>
            <option value="efectivo">Efectivo</option>
            <option value="cheque">Cheque</option>
          </select>
          <span *ngIf="formErrors.tipo" id="errornombre" class="help-block">{{ formErrors.tipo}}</span>
        </div>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.fecha}">
        <label for="fecha" class="col-md-2 control-label" for="tipo">Fecha</label>
        <div class="col-md-10">
          <input id="fecha" type="text" data-provide="datepicker" class="form-control " >
          <span  *ngIf="formErrors.fecha" id="errornombre" class="help-block">{{ formErrors.fecha}}</span>
        </div>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.cuenta_id}" *ngIf="tipo != 'efectivo'">
        <label for="cuenta_id" class="col-md-2 control-label" for="tipo">Cuenta</label>
        <div class="col-md-10">
          <select id="cuenta_id" class="form-control"></select>
          <span  *ngIf="formErrors.cuenta_id" id="errornombre" class="help-block">{{ formErrors.cuenta_id}}</span>
        </div>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.comision}" *ngIf="tipo == 'efectivo'">
        <label for="comision" class="col-md-2 control-label" for="comision"> Comision </label>
        <div class="col-md-10">
          <input  id="comision" type="number" class="form-control" formControlName="comision" placeholder="000.000,00 bs" >
          <span  *ngIf="formErrors.comision" id="errornombre" class="help-block">{{ formErrors.comision}}</span>
        </div>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.referencia}" *ngIf="tipo != 'efectivo'" >
        <label for="referencia" class="col-md-2 control-label" for="referencia"> Referencia </label>
        <div class="col-md-10" align="right">
          <input  id="referencia" type="text" class="form-control" formControlName="referencia">
          <span  *ngIf="formErrors.referencia" id="errornombre" class="help-block">{{ formErrors.referencia}}</span>
        </div>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.precio_material}">
        <label for="precio_material" class="col-md-2 control-label" for="precio_material"> Precio Material</label>
        <div class="col-md-10">
          <input  id="precio_material" type="number" [(ngModel)]="puro" class="form-control" formControlName="precio_material" placeholder="000.000,00 bs"  (keyup)="calcularPuro()" >
          <span  *ngIf="formErrors.precio_material" id="errornombre" class="help-block">{{ formErrors.precio_material}}</span>
        </div>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.monto}"  >
        <label for="monto" class="col-md-2 control-label" for="monto"> Monto </label>
        <div class="col-md-10">
          <input  id="monto" type="number" [(ngModel)]="monto" class="form-control" formControlName="monto" placeholder="000.000,00 bs" (keyup)="calcularPuro()" >
          <span  *ngIf="formErrors.monto" id="errornombre" class="help-block">{{ formErrors.monto}}</span>
        </div>
      </div>

      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.descripcion}"  >
        <label for="descripcion" class="col-md-2 control-label" for="tipo">Descripcion</label>
        <div class="col-md-10">
        <textarea id="descripcion" type="text" class="form-control" formControlName="descripcion" placeholder="DescripciÃ³n....................." row="3" style="height: 100px;" > </textarea> 
            <span  *ngIf="formErrors.descripcion" id="errornombre" class="help-block">{{ formErrors.descripcion}}</span>
        </div>
      </div>  


      <div [ngClass]="{'form-group': true,'col-md-6': true,'has-error': formErrors.descripcion}" >
        <div class="col-md-8 pull-right" >
          <h4 class="page-header"><strong>Totales :</strong></h4>
          <table class="table table-hover">
            <tr>
              <td style="text-align: right;"><strong> Precio Puro (gramos): </strong></td>
              <td style="text-align: left"><strong> {{puro|number:'1.2-2'}} Bs.</strong></td>
            </tr>
            <tr>
              <td style="text-align: right;"><strong> Cantidad de puro: </strong></td>
              <td style="text-align: left;"> <strong> {{cantidad|number:'1.2-2'}} Grs.</strong></td>
            </tr>
            <tr>
              <td style="text-align: right;"><strong> Monto: </strong></td>
              <td style="text-align: left;"> <strong> {{monto|number:'1.2-2'}} Bs.</strong></td>
            </tr>

          </table>
        </div>
        <div class="col-md-12"  >
          <input type="button" class="btn btn-primary pull-right" (click)="guardar()" value="Guardar">
        </div>
      </div>  

    </form>
  </div>
</div> <!-- end modal body  --> 
</div>
</div>
</div>
 


